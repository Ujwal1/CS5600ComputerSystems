/*
 * queue.c
 *
 *  Created on: Jan 24, 2023
 *      Author: ujwal
 */
#include "queue.h"
#include<stdlib.h>

// the function to put an element in a queue
void enqueue(queue_t* queue, void* element) {
	queue_t* newNode = (queue_t*)malloc(sizeof(queue_t));
	newNode->data = element;
	newNode->next = NULL;

	//finding last node in queue
	queue_t* last = queue;
	while (last->next != NULL) {
		last = last-> next;
	}

	last -> next = newNode;
	newNode->prev = last;
}

// function to remove an elemnt from a queue
void* dequeue(queue_t* queue) {
	if (queue->next == NULL) {
		return NULL;
	}
	void* data = queue->next->data;

	//removing the first node from the queue
	queue_t* front = queue->next;
	queue->next = front->next;
	if (front->next != NULL) {
		front->next->prev = queue;
	}
	free(front);

	return data;
}

